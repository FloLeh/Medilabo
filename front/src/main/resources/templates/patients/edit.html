<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <title>Modifier le patient</title>
</head>
<body class="min-h-screen flex items-center justify-center bg-gray-100">

<div class="w-full max-w-lg p-6 bg-white rounded shadow-md">

    <!-- Bouton Retour -->
    <div class="mb-4">
        <a href="/patients"
           class="inline-flex items-center gap-2 text-gray-700 hover:text-gray-900 font-semibold">
            <i class="fa-solid fa-arrow-left"></i> Retour à la liste
        </a>
    </div>

    <!-- Titre -->
    <h2 class="text-xl font-bold mb-6 text-center">Modifier le patient</h2>

    <!-- Formulaire -->
    <form th:action="@{/patients/{id}(id=${patient.id})}" th:object="${patient}" method="post">
        <!-- Simulation PUT -->
        <input type="hidden" name="_method" value="put"/>

        <!-- Prénom -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-1">Prénom <span class="text-red-500">*</span></label>
            <input type="text" th:field="*{firstName}" placeholder="Prénom"
                   class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>

        <!-- Nom -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-1">Nom <span class="text-red-500">*</span></label>
            <input type="text" th:field="*{lastName}" placeholder="Nom"
                   class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>

        <!-- Date de naissance -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-1">Date de naissance <span class="text-red-500">*</span></label>
            <input type="date" th:field="*{birthdate}"
                   class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>

        <!-- Genre (flèche native) -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-1">Genre <span class="text-red-500">*</span></label>
            <select th:field="*{gender}"
                    class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                <option value="" disabled>Choisir le genre</option>
                <option value="M" th:selected="${patient.gender == 'M'}">Homme</option>
                <option value="F" th:selected="${patient.gender == 'F'}">Femme</option>
            </select>
        </div>

        <!-- Adresse (facultatif) -->
        <div class="mb-4">
            <label class="block text-gray-700 font-semibold mb-1">Adresse</label>
            <input type="text" th:field="*{address}" placeholder="Adresse"
                   class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Téléphone (facultatif) -->
        <div class="mb-6">
            <label class="block text-gray-700 font-semibold mb-1">Téléphone</label>
            <input type="tel" th:field="*{phone}" placeholder="Numéro de téléphone"
                   class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <!-- Bouton Modifier -->
        <button type="submit"
                class="w-full bg-yellow-500 text-white font-bold py-2 px-4 rounded hover:bg-yellow-600 transition-colors cursor-pointer">
            Modifier
        </button>

    </form>
</div>

</body>
</html>
